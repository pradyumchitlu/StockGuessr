{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mohan/StockGuessr/client/app/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests\napi.interceptors.request.use((config) => {\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n});\n\n// Auth endpoints\nexport const authAPI = {\n  register: (email: string, username: string, password: string) =>\n    api.post('/auth/register', { email, username, password }),\n  login: (email: string, password: string) =>\n    api.post('/auth/login', { email, password }),\n  getCurrentUser: () => api.get('/auth/me'),\n};\n\n// Scenarios endpoints\nexport const scenariosAPI = {\n  getRandomScenario: () => api.get('/scenarios/random'),\n  getAllScenarios: () => api.get('/scenarios'),\n  getScenarioById: (id: string) => api.get(`/scenarios/${id}`),\n};\n\n// Matches endpoints\nexport const matchesAPI = {\n  createMatch: (scenarioId: string, opponentId: string) =>\n    api.post('/matches', { scenarioId, opponentId }),\n  getMatch: (id: string) => api.get(`/matches/${id}`),\n  updateMatch: (id: string, data: any) =>\n    api.put(`/matches/${id}`, data),\n  getUserMatches: (userId: string) =>\n    api.get(`/matches/history/${userId}`),\n  getAnalysis: (id: string) => api.get(`/matches/${id}/analysis`),\n  addNote: (matchId: string, note: string) =>\n    api.patch(`/matches/${matchId}/note`, { note }),\n  deleteMatch: (id: string) => api.delete(`/matches/${id}`),\n};\n\nexport default api;\n"],"names":[],"mappings":";;;;;;;;;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,iEAAmC;AAExD,MAAM,MAAM,8LAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,wBAAwB;AACxB,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT;AAGO,MAAM,UAAU;IACrB,UAAU,CAAC,OAAe,UAAkB,WAC1C,IAAI,IAAI,CAAC,kBAAkB;YAAE;YAAO;YAAU;QAAS;IACzD,OAAO,CAAC,OAAe,WACrB,IAAI,IAAI,CAAC,eAAe;YAAE;YAAO;QAAS;IAC5C,gBAAgB,IAAM,IAAI,GAAG,CAAC;AAChC;AAGO,MAAM,eAAe;IAC1B,mBAAmB,IAAM,IAAI,GAAG,CAAC;IACjC,iBAAiB,IAAM,IAAI,GAAG,CAAC;IAC/B,iBAAiB,CAAC,KAAe,IAAI,GAAG,CAAC,CAAC,WAAW,EAAE,IAAI;AAC7D;AAGO,MAAM,aAAa;IACxB,aAAa,CAAC,YAAoB,aAChC,IAAI,IAAI,CAAC,YAAY;YAAE;YAAY;QAAW;IAChD,UAAU,CAAC,KAAe,IAAI,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI;IAClD,aAAa,CAAC,IAAY,OACxB,IAAI,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE;IAC5B,gBAAgB,CAAC,SACf,IAAI,GAAG,CAAC,CAAC,iBAAiB,EAAE,QAAQ;IACtC,aAAa,CAAC,KAAe,IAAI,GAAG,CAAC,CAAC,SAAS,EAAE,GAAG,SAAS,CAAC;IAC9D,SAAS,CAAC,SAAiB,OACzB,IAAI,KAAK,CAAC,CAAC,SAAS,EAAE,QAAQ,KAAK,CAAC,EAAE;YAAE;QAAK;IAC/C,aAAa,CAAC,KAAe,IAAI,MAAM,CAAC,CAAC,SAAS,EAAE,IAAI;AAC1D;uCAEe"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mohan/StockGuessr/client/app/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { authAPI } from '@/lib/api';\n\ninterface UserStats {\n  wins: number;\n  losses: number;\n  totalMatches: number;\n  avgPnL: number;\n  totalPnL: number;\n}\n\ninterface User {\n  _id: string;\n  email: string;\n  username: string;\n  stats: UserStats;\n  avatar?: string;\n  createdAt: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  isAuthenticated: boolean;\n  logout: () => void;\n  refetchUser: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          const response = await authAPI.getCurrentUser();\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Failed to fetch user:', error);\n        localStorage.removeItem('token');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n  };\n\n  const refetchUser = async () => {\n    try {\n      const response = await authAPI.getCurrentUser();\n      setUser(response.data);\n    } catch (error) {\n      console.error('Failed to refetch user:', error);\n    }\n  };\n\n  const value = {\n    user,\n    loading,\n    isAuthenticated: !!user,\n    logout,\n    refetchUser,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AA8BA,MAAM,4BAAc,IAAA,yNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,oNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oNAAQ,EAAC;IAEvC,IAAA,qNAAS;kCAAC;YACR,MAAM;oDAAY;oBAChB,IAAI;wBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;wBACnC,IAAI,OAAO;4BACT,MAAM,WAAW,MAAM,0KAAO,CAAC,cAAc;4BAC7C,QAAQ,SAAS,IAAI;wBACvB;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;wBACvC,aAAa,UAAU,CAAC;oBAC1B,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;IACV;IAEA,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,WAAW,MAAM,0KAAO,CAAC,cAAc;YAC7C,QAAQ,SAAS,IAAI;QACvB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,MAAM,QAAQ;QACZ;QACA;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;IACF;IAEA,qBACE,wOAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;GAlDgB;KAAA;AAoDT,SAAS;;IACd,MAAM,UAAU,IAAA,sNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}